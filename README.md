# Audio Transcription with Whisper and Pyannote

–ü—Ä–æ–µ–∫—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏ –∞—É–¥–∏–æ —Å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ–º —Å–ø–∏–∫–µ—Ä–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π:
- [OpenAI Whisper](https://github.com/openai/whisper) –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏
- [Pyannote](https://github.com/pyannote/pyannote-audio) –¥–ª—è –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–∏ (—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –ø–æ —Å–ø–∏–∫–µ—Ä–∞–º)

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö —Å–ø–∏–∫–µ—Ä–æ–≤ (–¥–∏–∞—Ä–∏–∑–∞—Ü–∏—è)  
‚úÖ –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∏–º–µ–Ω —Å–ø–∏–∫–µ—Ä–æ–≤ –≤ "–ü–µ—Ä—Å–æ–Ω–∞ 1", "–ü–µ—Ä—Å–æ–Ω–∞ 2" –∏ —Ç.–¥.  
‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–ª–∏–Ω–Ω—ã—Ö –∞—É–¥–∏–æ—Ñ–∞–π–ª–æ–≤ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–∑–±–∏–≤–∫–∞ –Ω–∞ 5-–º–∏–Ω—É—Ç–Ω—ã–µ —Å–µ–≥–º–µ–Ω—Ç—ã)  
‚úÖ –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ  
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –º–æ–¥–µ–ª–µ–π –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ  
‚úÖ –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞  

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **–û–°**: Windows 10/11 (64-bit) –∏–ª–∏ Linux
- **Python**: 3.8+
- **–ü–∞–º—è—Ç—å**: 4+ GB RAM (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 8+ GB)
- **–î–∏—Å–∫**: 5+ GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- **–ê—É–¥–∏–æ—Ñ–æ—Ä–º–∞—Ç**: WAV (16kHz, –º–æ–Ω–æ)

## –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –º–∞—à–∏–Ω—ã

- –∑–∞–ø—É—Å—Ç–∏—Ç—å prepare/install.bat
- —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   pip install torch torchaudio pydub tqdm pyannote.audio openai-whisper huggingface-hub
   ```

2. –ü–æ–º–µ—Å—Ç–∏—Ç–µ –∞—É–¥–∏–æ—Ñ–∞–π–ª –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞ —Å –∏–º–µ–Ω–µ–º `input.wav`

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–µ –æ—Ç –∏–º–µ–Ω–∏ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:
   ```bash
   python audio_app.py
   ```

4. –†–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ `output.txt`

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–∏–∑–º–µ–Ω—è—é—Ç—Å—è –≤ –∫–æ–Ω—Ü–µ —Ñ–∞–π–ª–∞ `audio_app.py`):

```python
config = {
    'whisper_model': "tiny",  # –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏: tiny, base, small, medium, large
    'whisper_dir': "models/whisper",  # –ü–∞–ø–∫–∞ –¥–ª—è –º–æ–¥–µ–ª–µ–π Whisper
    'pyannote_dir': "models/pyannote",  # –ü–∞–ø–∫–∞ –¥–ª—è –º–æ–¥–µ–ª–µ–π Pyannote
    'audio_file': "input.wav",  # –í—Ö–æ–¥–Ω–æ–π –∞—É–¥–∏–æ—Ñ–∞–π–ª
    'output_file': "output.txt",  # –í—ã—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª
    'hf_token': "your_token"  # –¢–æ–∫–µ–Ω Hugging Face
}
```

## –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞

–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
```
SPEAKER_00 [10.2-15.7]: –ü—Ä–∏–≤–µ—Ç, –∫–∞–∫ –¥–µ–ª–∞?
SPEAKER_01 [15.8-20.3]: –ü—Ä–∏–≤–µ—Ç! –í—Å–µ –æ—Ç–ª–∏—á–Ω–æ.
```

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏

üîπ –î–ª—è —Ä–∞–±–æ—Ç—ã Pyannote —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω Hugging Face (—É–∂–µ –≤—Å—Ç—Ä–æ–µ–Ω –≤ –∫–æ–¥)  
üîπ –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –º–æ–¥–µ–ª–∏:  
   - Whisper (~70-300MB –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –º–æ–¥–µ–ª–∏)  
   - Pyannote (~2GB)  
üîπ –î–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∞–π–ª–æ–≤ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é >30 –º–∏–Ω—É—Ç —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:  
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–¥–µ–ª—å Whisper medium/large  
   - –£–≤–µ–ª–∏—á–∏—Ç—å chunk_size –≤ –∫–æ–¥–µ  

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ —ç—Ç–∞–ø—ã —Ä–∞–±–æ—Ç—ã –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å –∏ –≤ —Ñ–∞–π–ª `transcriber.log`:
```
2025-04-08 12:00:00 - INFO - Downloading Pyannote models...
2025-04-08 12:00:05 - INFO - Processing chunks: 100%|‚ñà‚ñà‚ñà‚ñà| 5/5 [02:15<00:00]
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License. –ú–æ–¥–µ–ª–∏ Whisper –∏ Pyannote –∏–º–µ—é—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –ª–∏—Ü–µ–Ω–∑–∏–∏.
